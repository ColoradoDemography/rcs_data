install.pacakges("shiny")
install.pacakge(c("shiny", "plotly"))
install.package(c("shiny", "plotly"))
install.packages(c("shiny", "plotly"))
bp=read_excel("construction_data.xlsx", sheet = 1)
library(readxl)
library(tidyr)
library(dplyr)
bp=read_excel("construction_data.xlsx", sheet = 1)
View(bp)
names(bp)
head(bp)
str(bp)
bp=read_excel("construction_data.xlsx", sheet = 1)%>%
select(-Btot2010:-PlaceFIPS)
names(bp)
library(stringr)
bp=read_excel("construction_data.xlsx", sheet = 1)%>%
select(-Btot2010:-PlaceFIPS)%>%
gather(variable, value, -county:-place)%>%
mutate(month=str_sub(str_sub(variable, 1,4),2,4),
year=as.integer(paste0("20", str_sub(variable, -1,-2)))%>%
select(county, place, month, year, permits=value)
)
bp=read_excel("construction_data.xlsx", sheet = 1)%>%
select(-Btot2010:-PlaceFIPS)%>%
gather(variable, value, -county:-place)%>%
mutate(month=str_sub(str_sub(variable, 1,4),2,4),
year=as.integer(paste0("20", str_sub(variable, -1,-2))))%>%
select(county, place, month, year, permits=value)
View(bp)
bp=read_excel("construction_data.xlsx", sheet = 1)%>%
select(-Btot2010:-PlaceFIPS)%>%
gather(variable, value, -county:-place)%>%
mutate(month=str_sub(str_sub(variable, 1,4),2,4),
year=as.integer(paste0("20", str_sub(variable, -2,-1))))%>%
select(county, place, month, year, permits=value)
co=read_excel("construction_data.xlsx", sheet = 2)
View(co)
names(co)
co=read_excel("construction_data.xlsx", sheet = 2)%>%
select(-C1011:-C2021)%>%
rename(county=CountyFIPS, place=PlaceFIPS)%>%
gather(variable, value, -county:-place)%>%
mutate(month=str_sub(str_sub(variable, 1,4),2,4),
year=as.integer(paste0("20", str_sub(variable, -2,-1))))%>%
select(county, place, month, year, certs=value)
demo=read_excel("construction_data.xlsx", sheet = 3)%>%
select(-C1011:-C2021)%>%
rename(county=CountyFIPS, place=PlaceFIPS)%>%
gather(variable, value, -county:-place)%>%
mutate(month=str_sub(str_sub(variable, 1,4),2,4),
year=as.integer(paste0("20", str_sub(variable, -2,-1))))%>%
select(county, place, month, year, certs=value)
demo=read_excel("construction_data.xlsx", sheet = 3)
head(demo)
names(demo)
demo=read_excel("construction_data.xlsx", sheet = 3)%>%
select(-D1011:-D2021)%>%
rename(county=CountyFIPS, place=PlaceFIPS)%>%
gather(variable, value, -county:-place)%>%
mutate(month=str_sub(str_sub(variable, 1,4),2,4),
year=as.integer(paste0("20", str_sub(variable, -2,-1))))%>%
select(county, place, month, year, demo=value)
